<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Rejselog</title>

	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:wght@400;700&display=swap" rel="stylesheet"> 

	<link rel="stylesheet" href="common.css">
	<link rel="stylesheet" href="index.css">
	<link rel="shortcut icon" href="img/flag-square.png" type="image/png">
</head>	
<body>
	<header>
		<h1>Rejselog</h1>
		<p>Log your rail journeys and view/export them later.</p>

		<nav>
			<a href="index.html" class="current"><span class="emoji-icon">â•</span> Home / Add a Journey</a>
			<a href="localstorage.html"><span class="emoji-icon">ğŸ“</span> Previous Journeys</a>
		</nav>
	</header>

	<section id="step-1">
		<form>
			<div>
				<label for="departure-station"><span class="emoji-icon">ğŸ’¨</span> Departure Station</label><br>
				<input type="text" id="departure-station">
			</div>
			
			<span>&nbsp;</span>
	
			<div>
				<label for="date"><span class="emoji-icon">ğŸ“…</span> Date &amp; Time</label><br>
				<input type="datetime-local" id="date">
			</div>
		</form>
	
		<ul id="station-list"></ul>
	</section>

	<section id="step-1-strip" style="display: none;">
		<span id="departure-station-name"></span> 
		<span>&nbsp;</span>
		<div>
			<span id="departure-station-date"></span>
		</div>
	</section>

	<section id="step-2" style="display: none;">
		<form>
			<label for="metro-toggle"><span class="emoji-icon">â“‚ï¸</span> Metro Services</label>
			<input type="checkbox" id="metro-toggle"><br>
			<i>Switching to showing Metro services will adjust the date to be from the current time.<br>There is currently no way to view future/past Metro services.</i>
		</form>
		
		<ol id="service-list"></ol>
	</section>

	<section id="step-2-strip" style="display: none;">
		<span id="service-name"></span>
		
		<span id="service-type"></span>

		<div>
			<span id="service-time"></span><br>
			<span id="service-track"></span>
		</div>

		<div>
			<span id="service-dest"></span><br>
			<span id="service-via"></span>
		</div>		
	</section>

	<section id="step-3" style="display: none">
		<ol id="stop-list"></ol>
	</section>

	<section id="step-4" style="display: none;">
		<label for="out-origin">Origin</label>
		<input type="text" id="out-origin" readonly>

		&bull;

		<label for="out-originPlatform">Track</label>
		<input type="text" id="out-originPlatform"><br>

		<label for="out-departureTimeActual">Actual Departure</label>
		<input type="text" id="out-departureTimeActual">

		<button onclick="setActual('dep');"><span class="emoji-icon">ğŸ“œ</span> Set to Planned</button>


		<hr>
		
		<label for="out-destination">Destination</label>
		<input type="text" id="out-destination" readonly>

		&bull;

		<label for="out-destinationPlatform">Track</label>
		<input type="text" id="out-destinationPlatform"><br>

		<label for="out-arrivalTimeActual">Actual Arrival</label>
		<input type="text" id="out-arrivalTimeActual">

		<button onclick="setActual('arr');"><span class="emoji-icon">ğŸ“œ</span> Set to Planned</button>
		<button onclick="setNow('arr');"><span class="emoji-icon">âŒš</span> Set to Now</button>

		<hr>

		<label for="out-distanceKm">Distance Travelled (km)</label>
		<input type="text" id="out-distanceKm" readonly> <br>

		<label for="out-route">Route (Direction)</label>
		<input type="text" id="out-route" readonly>

		<hr>

		<label for="out-operatorName">Operator</label>
		<input type="text" id="out-operatorName"><br>

		<label for="out-identity">Identity (name)</label>
		<input type="text" id="out-identity" readonly><br>

		<label for="out-vehicleType">Vehicle Type</label>
		<input type="text" id="out-vehicleType" readonly><br>

		<label for="out-vehicles">Vehicles (commas between)</label>
		<input type="text" id="out-vehicles">

		<hr>

		<label for="out-departureTimePlanned">Planned Departure</label>
		<input type="text" id="out-departureTimePlanned"><br>

		<label for="out-arrivalTimePlanned">Planned Arrival</label>
		<input type="text" id="out-arrivalTimePlanned">

		<hr>

		<label for="out-notes">Notes</label>
		<textarea id="out-notes" rows="5" style="width: 100%; height: 4em;"></textarea>

		<hr>

		<div style="display: flex; justify-content: space-between; align-items: flex-start;">
			<button onclick="startOverConf();"><span class="emoji-icon">âŒ</span> Start Over</button>
			
			<button onclick="saveJourney();"><span class="emoji-icon">ğŸ’¾</span> Save this Journey</button>
		</div>
	</section>

	<footer>
		<p style="color: #800; font-weight: bold;"><span class="emoji-icon">âš ï¸</span> Do not use this service as a journey planner or for realtime information.</p>
		<p>
			<span class="emoji-icon">ğŸ—ºï¸</span> To plan a trip, use <a href="https://rejseplanen.dk">Rejseplanen (Journey Planner)</a> and <a href="https://dinoffentligetransport.dk/">Din Offentlige Transport (Your Public Transport)</a>.
			<br>
			<span class="emoji-icon">ğŸš‰</span> For realtime station departures, try <a href="https://www.dinstation.dk/">Din Station (Your Station)</a> by Banedanmark.
		</p>

		<p>
			<span class="emoji-icon">ğŸ•°ï¸</span> All times should (hopefully) be in local Danish time. DD.MM.YY and HH:MM.
		</p>

		<p>
			<span class="emoji-icon">ğŸ’–</span> Bodged together by <a href="https://tomr.me">Tom</a>.
		</p>
		<p>
			<span class="emoji-icon">â„¹ï¸</span> Made with the <a href="https://help.rejseplanen.dk/hc/da/articles/214174465-Rejseplanens-API">Rejseplanen API</a> with data provided under the <a href="https://creativecommons.org/licenses/by-nd/3.0/">Creative Commons BY-ND 3.0 license</a>. 
		</p>
	</footer>
	

	<script src="js/0common.js"></script>
	<script src="js/1find-station.js"></script>
	<script src="js/2list-deps.js"></script>
	<script src="js/3show-service.js"></script>
	<script src="js/4show-details.js"></script>
</body>
</html>